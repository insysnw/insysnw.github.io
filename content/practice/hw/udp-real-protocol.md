+++
title = "Реальный UDP протокол"
weight = 2
aliases = ["/labs/02-udp-real-protocol/"]
[taxonomies]
categories = ["Домашнее задание"]
order = ["2"]
+++


В рамках данной работы вы будете реализовывать клиентскую и серверную части нескольких широко используемых протоколов, основанных на UDP:

* [DHCP](#dhcp)
* [DNS](#dns)
* [TFTP](#tftp)
* [NTP](#ntp)
* [SNMP](#snmp)

Основной проверкой будет работа с уже существующими реализациями.

Реализуемые каждым студентом клиент и сервер должны работать с разными протоколами.

# RFC

Все выбранные для данного задания протоколы имеют подробно описание в соответствующих [Request for Comments](https://ru.wikipedia.org/wiki/RFC) (**RFC**).
Стоить отметить, что многие из данных протоколов появились на заре развития интернета и за долгое время претерпели значительные изменения, [DNS тому отличный пример](https://en.wikipedia.org/wiki/Domain_Name_System#RFC_documents).

Для облегчения навигации обсудим важные секции заголовка многих из таких RFC.

* `Obsoleted by:` - рассматриваемый RFC целиком устарел и основными документами стоит считать указанные
* `Obsoletes:` - ссылка на старую версию RFC, заменяемую текущей
* `Updated by:` - список RFC, вносящих коррективы в отдельные части рассматриваемого RFC
* `Updates:` - ссылка на основную версию RFC, в которую вносятся данные изменения
* `Errata Exist` - для рассматриваемого RFC существуют правки, доступные в шапке - `[Errata]`

На момент создания данной страницы мы указываем ссылки на последние основные RFC (т.е. для них нет `Obsoleted by`).

## DHCP

**RFC**: [2131](https://tools.ietf.org/html/rfc2131)

Клиенту не требуется реально устанавливать ip узла*
**TODO**:  проверить не нужно ли клиенту отвечать с нового IP адреса.

**Популярные имлементации**:
  * Self Hosted серверы:
    * isc dhcp server (dhcpd)

## DNS

**RFC**: [1034](https://tools.ietf.org/html/rfc1034), [1035](https://tools.ietf.org/html/rfc1035) и [3596](https://tools.ietf.org/html/rfc3596)


В рамках данного задания не нужно реализовывать все спецификации DNS.
Для сервера и клиента требуется реализовать только следующие типы записей: `A`, `MX`, `AAAA`, `TXT`

Серверу достаточно отвечать только запросы к одному доменному имени и заранее заложенными значениями, т.е. нет необходимости реализовывать полноценный процесс разрешения имени.

**Популярные имлементации**:
  * Клиенты:
    * drill
	* dig
	* nslookup
  * Публичные серверы:
    * 1.1.1.1
	* 8.8.8.8
  * Self Hosted серверы:
    * bind9 (named)
	* dnsmasq

## TFTP

**RFC**: 

**Популярные имлементации**:
* Linux (в **Ubuntu**: `apt search tfpt`):
  * [atftp](https://sourceforge.net/projects/atftp/)
  * [tftp-hpa](https://mirrors.edge.kernel.org/pub/software/network/tftp/tftp-hpa/)
* Windows
  * Клиент - [встроенный компонент](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/tftp) (нужно включить в компонентах windows)


## NTP

**RFC**: [5905](https://tools.ietf.org/html/rfc5905)

В реализации сервера нет необходимости гарантировать точное время, подходит время сервера.

**Популярные имлементации**:
* [https://www.pool.ntp.org/](https://www.pool.ntp.org/) - пул публичных серверов
* Клиенты встроены в большинство настольных ОС
* [chrony](https://chrony.tuxfamily.org/) - открытые сервер и клиент
* [Список](https://gist.github.com/mutin-sa/eea1c396b1e610a2da1e5550d94b0453#file-public_time_servers-md) лучших общедоступных серверов времени

## SNMP

**RFC**: v1: [1157](https://tools.ietf.org/html/rfc1157), v2: [1901](https://tools.ietf.org/html/rfc1901), v3: [3411](https://tools.ietf.org/html/rfc3411)

**Популярные имлементации**:
* [net-snmp](http://www.net-snmp.org/)
___

* **TODO**: примеры реализаций для каждого из приведённых протоколов
* **TODO**: подробные требования к реализации (subset требуемых фич)
* **TODO**(?): готовые сетапы для тестирования (скорее всего vagrant)
